<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Korea Blog</title>
<link href="https://fonts.googleapis.com/css2?family=Nanum+Gothic:wght@400;700;800&family=Nanum+Myeongjo:wght@400;700;800&display=swap" rel="stylesheet">
<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
html{scroll-behavior:smooth;font-size:16px}
body{background:#ffffff;color:#111111;font-family:'Nanum Gothic','Apple SD Gothic Neo',sans-serif;line-height:1.7;min-height:100vh}

/* HEADER */
.hdr{position:sticky;top:0;z-index:999;background:rgba(255,255,255,0.92);backdrop-filter:blur(20px);border-bottom:1px solid #e5e5e5;display:flex;align-items:center;justify-content:space-between;padding:0 40px;height:60px}
.hdr-logo{font-family:'Nanum Gothic',sans-serif;font-weight:800;font-size:15px;color:#111;text-decoration:none;letter-spacing:3px;cursor:pointer}
.hdr-logo b{color:#0066ff}
.hdr-nav{display:flex;align-items:center;gap:32px}
.hdr-nav a{font-size:13px;color:#888;text-decoration:none;font-weight:700;letter-spacing:1px;transition:color .2s;cursor:pointer}
.hdr-nav a:hover{color:#111}
.hdr-cnt{font-size:12px;color:#0066ff;border:1px solid #0066ff;padding:3px 12px;font-weight:800;letter-spacing:1px;border-radius:20px}

/* HERO */
.hero{background:linear-gradient(135deg,#f0f5ff 0%,#e8f4ff 100%);padding:80px 40px;overflow:hidden;position:relative}
.hero::before{content:'';position:absolute;top:-60px;right:-60px;width:300px;height:300px;background:radial-gradient(circle,rgba(0,102,255,0.08),transparent 70%);border-radius:50%}
.hero-inner{max-width:1200px;margin:0 auto;display:grid;grid-template-columns:1fr 1fr;gap:80px;align-items:center}
.hero-tag{display:inline-flex;align-items:center;gap:8px;font-size:11px;font-weight:800;letter-spacing:3px;color:#0066ff;text-transform:uppercase;margin-bottom:20px;background:#fff;padding:6px 16px;border-radius:20px;box-shadow:0 2px 12px rgba(0,102,255,0.12)}
.hero-tag::before{content:'';width:6px;height:6px;border-radius:50%;background:#0066ff;animation:pulse 2s infinite}
@keyframes pulse{0%,100%{opacity:1;transform:scale(1)}50%{opacity:.5;transform:scale(1.3)}}
.hero-h1{font-family:'Nanum Myeongjo',serif;font-size:clamp(32px,4vw,56px);font-weight:800;line-height:1.2;letter-spacing:-2px;margin-bottom:20px;color:#111}
.hero-h1 em{font-style:normal;background:linear-gradient(135deg,#0066ff,#00aaff);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
.hero-desc{font-size:15px;color:#555;line-height:1.9;max-width:420px}
.hero-right{display:flex;justify-content:center;align-items:center}

/* ì •ì±… ì¼ëŸ¬ìŠ¤íŠ¸ SVG */
.policy-illust{width:100%;max-width:420px;filter:drop-shadow(0 20px 60px rgba(0,102,255,0.15))}

/* FILTER */
.filter-wrap{max-width:1200px;margin:0 auto;padding:40px 40px 24px;display:flex;gap:8px;flex-wrap:wrap;align-items:center;justify-content:space-between}
.filter-left{display:flex;gap:8px;flex-wrap:wrap}
.fbtn{font-family:'Nanum Gothic',sans-serif;font-size:13px;font-weight:700;padding:8px 20px;border:1.5px solid #e5e5e5;background:#fff;color:#888;cursor:pointer;border-radius:24px;transition:all .2s;letter-spacing:.5px}
.fbtn:hover{border-color:#0066ff;color:#0066ff;background:#f0f5ff}
.fbtn.on{background:#0066ff;border-color:#0066ff;color:#fff}
.filter-divider{border-bottom:1px solid #f0f0f0;max-width:1200px;margin:0 auto;padding:0 40px}

/* GRID */
.grid-wrap{max-width:1200px;margin:0 auto;padding:32px 40px 100px;display:grid;grid-template-columns:repeat(3,1fr);gap:24px}
.pcard{background:#fff;border:1.5px solid #f0f0f0;border-radius:16px;padding:28px;cursor:pointer;transition:all .25s;opacity:0;transform:translateY(16px);animation:up .5s ease forwards;position:relative}
.pcard:hover{border-color:#0066ff;box-shadow:0 8px 40px rgba(0,102,255,0.12);transform:translateY(-4px)}
.pcard.big{grid-column:span 2}
@keyframes up{to{opacity:1;transform:translateY(0)}}
.pc-top{display:flex;align-items:center;gap:10px;margin-bottom:16px}
.pc-cat{font-size:11px;font-weight:800;letter-spacing:2px;text-transform:uppercase;color:#0066ff;background:#f0f5ff;padding:4px 12px;border-radius:12px}
.pc-date{font-size:12px;color:#bbb}
.pc-title{font-family:'Nanum Myeongjo',serif;font-weight:700;font-size:18px;line-height:1.4;margin-bottom:12px;color:#111}
.pcard.big .pc-title{font-size:24px}
.pc-excerpt{font-size:14px;color:#888;line-height:1.8;margin-bottom:16px}
.pc-tags{display:flex;gap:6px;flex-wrap:wrap;margin-bottom:16px}
.ptag{font-size:11px;color:#aaa;border:1px solid #eee;padding:2px 10px;border-radius:10px}
.pc-bottom{display:flex;align-items:center;justify-content:space-between;padding-top:16px;border-top:1px solid #f5f5f5}
.pc-read{font-size:13px;font-weight:800;color:#bbb;display:flex;align-items:center;gap:6px;transition:all .2s;letter-spacing:1px}
.pcard:hover .pc-read{color:#0066ff;gap:10px}
.pc-actions{display:flex;gap:6px;opacity:0;transition:opacity .2s}
.pcard:hover .pc-actions{opacity:1}
.pc-edit,.pc-del{font-size:11px;font-weight:800;padding:4px 10px;border-radius:8px;border:none;cursor:pointer;transition:all .2s;letter-spacing:.5px}
.pc-edit{background:#f0f5ff;color:#0066ff}
.pc-edit:hover{background:#0066ff;color:#fff}
.pc-del{background:#fff0f0;color:#ff4444}
.pc-del:hover{background:#ff4444;color:#fff}

/* POST PAGE */
.post-page{display:none;min-height:100vh;background:#fff;animation:fadeIn .3s ease}
.post-page.on{display:block}
@keyframes fadeIn{from{opacity:0;transform:translateY(16px)}to{opacity:1;transform:translateY(0)}}
.post-hdr{position:sticky;top:0;background:rgba(255,255,255,0.95);backdrop-filter:blur(20px);border-bottom:1px solid #f0f0f0;display:flex;align-items:center;justify-content:space-between;padding:0 40px;height:60px;z-index:10}
.post-back{display:flex;align-items:center;gap:8px;font-size:13px;font-weight:800;color:#888;cursor:pointer;letter-spacing:1px;transition:color .2s;background:none;border:none;font-family:'Nanum Gothic',sans-serif}
.post-back:hover{color:#0066ff}
.post-back svg{transition:transform .2s}
.post-back:hover svg{transform:translateX(-4px)}
.post-hdr-actions{display:flex;gap:8px}
.btn-edit-post,.btn-del-post{font-size:12px;font-weight:800;padding:6px 16px;border-radius:20px;border:none;cursor:pointer;transition:all .2s;font-family:'Nanum Gothic',sans-serif;letter-spacing:.5px}
.btn-edit-post{background:#f0f5ff;color:#0066ff}
.btn-edit-post:hover{background:#0066ff;color:#fff}
.btn-del-post{background:#fff0f0;color:#ff4444}
.btn-del-post:hover{background:#ff4444;color:#fff}
.post-wrap{max-width:760px;margin:0 auto;padding:64px 40px 120px}
.post-meta{display:flex;align-items:center;gap:12px;margin-bottom:20px}
.post-cat{font-size:11px;font-weight:800;letter-spacing:2px;text-transform:uppercase;color:#0066ff;background:#f0f5ff;padding:4px 14px;border-radius:12px}
.post-date-txt{font-size:13px;color:#bbb}
.post-title{font-family:'Nanum Myeongjo',serif;font-size:clamp(26px,4vw,42px);font-weight:800;line-height:1.3;color:#111;margin-bottom:20px;letter-spacing:-1px}
.post-tags{display:flex;gap:6px;flex-wrap:wrap;margin-bottom:48px;padding-bottom:40px;border-bottom:2px solid #f0f0f0}
.post-body{font-size:17px;line-height:2;color:#333}
.post-body h1{font-family:'Nanum Myeongjo',serif;font-size:30px;font-weight:800;color:#111;margin:48px 0 16px}
.post-body h2{font-family:'Nanum Myeongjo',serif;font-size:24px;font-weight:800;color:#111;margin:40px 0 14px;padding-bottom:12px;border-bottom:2px solid #f0f0f0}
.post-body h3{font-family:'Nanum Myeongjo',serif;font-size:19px;font-weight:700;color:#222;margin:28px 0 10px}
.post-body p{margin-bottom:20px}
.post-body a{color:#0066ff;text-decoration:underline;font-weight:700;transition:opacity .2s}
.post-body a:hover{opacity:.7}
.post-body .divider{width:100%;height:2px;background:#f0f0f0;margin:40px 0;border:none;display:block}
.post-body strong{font-weight:800;color:#111}
.post-body ul,.post-body ol{padding-left:24px;margin-bottom:20px}
.post-body li{margin-bottom:8px}
.post-footer{margin-top:64px;padding-top:40px;border-top:2px solid #f0f0f0;display:flex;justify-content:center}
.back-btn{display:inline-flex;align-items:center;gap:10px;font-size:14px;font-weight:800;color:#0066ff;cursor:pointer;background:#f0f5ff;border:none;padding:14px 36px;border-radius:32px;transition:all .2s;font-family:'Nanum Gothic',sans-serif;letter-spacing:1px}
.back-btn:hover{background:#0066ff;color:#fff}

/* EDIT MODAL */
.edit-overlay{display:none;position:fixed;inset:0;background:rgba(0,0,0,0.5);z-index:4000;align-items:center;justify-content:center;padding:24px;backdrop-filter:blur(8px)}
.edit-overlay.on{display:flex}
.edit-modal{background:#fff;max-width:680px;width:100%;border-radius:24px;overflow:hidden;animation:up .3s ease;max-height:90vh;display:flex;flex-direction:column}
.edit-modal-hdr{padding:28px 32px 20px;border-bottom:1px solid #f0f0f0;display:flex;align-items:center;justify-content:space-between;flex-shrink:0}
.edit-modal-hdr h3{font-family:'Nanum Myeongjo',serif;font-size:20px;font-weight:800;color:#111}
.edit-close{width:32px;height:32px;border:1.5px solid #eee;background:#fff;border-radius:50%;font-size:14px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s;color:#888}
.edit-close:hover{border-color:#111;color:#111}
.edit-body{padding:24px 32px;overflow-y:auto;flex:1}
.edit-field{margin-bottom:20px}
.edit-field label{display:block;font-size:12px;font-weight:800;color:#888;letter-spacing:1px;margin-bottom:8px}
.edit-field input,.edit-field textarea,.edit-field select{width:100%;border:1.5px solid #e5e5e5;border-radius:10px;padding:12px 16px;font-size:14px;font-family:'Nanum Gothic',sans-serif;color:#111;transition:border .2s;outline:none;background:#fff}
.edit-field input:focus,.edit-field textarea:focus,.edit-field select:focus{border-color:#0066ff}
.edit-field textarea{resize:vertical;min-height:200px;line-height:1.6}
.edit-foot{padding:20px 32px 28px;border-top:1px solid #f0f0f0;display:flex;gap:10px;justify-content:flex-end;flex-shrink:0}
.btn-save{background:#0066ff;color:#fff;border:none;padding:12px 28px;border-radius:16px;font-size:14px;font-weight:800;cursor:pointer;font-family:'Nanum Gothic',sans-serif;transition:all .2s}
.btn-save:hover{background:#0044cc}
.btn-cancel{background:#f5f5f5;color:#888;border:none;padding:12px 28px;border-radius:16px;font-size:14px;font-weight:800;cursor:pointer;font-family:'Nanum Gothic',sans-serif;transition:all .2s}
.btn-cancel:hover{background:#e5e5e5}

/* DELETE CONFIRM */
.del-overlay{display:none;position:fixed;inset:0;background:rgba(0,0,0,0.5);z-index:4000;align-items:center;justify-content:center;padding:24px;backdrop-filter:blur(8px)}
.del-overlay.on{display:flex}
.del-modal{background:#fff;max-width:400px;width:100%;border-radius:24px;padding:40px 32px;text-align:center;animation:up .3s ease}
.del-icon{font-size:48px;margin-bottom:16px}
.del-modal h3{font-family:'Nanum Myeongjo',serif;font-size:20px;font-weight:800;color:#111;margin-bottom:12px}
.del-modal p{font-size:14px;color:#888;line-height:1.7;margin-bottom:28px}
.del-btns{display:flex;gap:10px;justify-content:center}
.btn-del-confirm{background:#ff4444;color:#fff;border:none;padding:12px 28px;border-radius:16px;font-size:14px;font-weight:800;cursor:pointer;font-family:'Nanum Gothic',sans-serif;transition:all .2s}
.btn-del-confirm:hover{background:#cc0000}
.btn-del-cancel{background:#f5f5f5;color:#888;border:none;padding:12px 28px;border-radius:16px;font-size:14px;font-weight:800;cursor:pointer;font-family:'Nanum Gothic',sans-serif;transition:all .2s}
.btn-del-cancel:hover{background:#e5e5e5}

/* TOAST */
.toast{position:fixed;bottom:32px;left:50%;transform:translateX(-50%) translateY(20px);background:#111;color:#fff;padding:14px 28px;border-radius:32px;font-size:14px;font-weight:800;letter-spacing:.5px;opacity:0;transition:all .3s;z-index:9999;pointer-events:none}
.toast.show{opacity:1;transform:translateX(-50%) translateY(0)}

/* LOADING/EMPTY */
.msg{grid-column:span 3;padding:80px;text-align:center;font-size:14px;color:#bbb;font-weight:700;letter-spacing:2px}

/* FOOTER */
footer{background:#111;color:rgba(255,255,255,.4);display:flex;justify-content:space-between;align-items:center;padding:28px 40px;font-size:13px;font-weight:700;letter-spacing:1px}
footer b{color:rgba(255,255,255,.8)}

@media(max-width:768px){
  .hero-inner{grid-template-columns:1fr}
  .hero-right{display:none}
  .grid-wrap{grid-template-columns:1fr}
  .pcard.big{grid-column:span 1}
  .hdr{padding:0 20px}
  .post-hdr{padding:0 20px}
  .hero,.filter-wrap,.grid-wrap{padding-left:20px;padding-right:20px}
  .post-wrap{padding:40px 20px 80px}
  .msg{grid-column:span 1}
  .filter-wrap{flex-direction:column;align-items:flex-start}
}
</style>
</head>
<body>

<header class="hdr">
  <span class="hdr-logo" onclick="showList()">KOREA<b>BLOG</b></span>
  <nav class="hdr-nav">
    <a onclick="showList()">í™ˆ</a>
    <a href="#posts">í¬ìŠ¤íŠ¸</a>
    <span class="hdr-cnt" id="post-count">0ê°œì˜ ê¸€</span>
  </nav>
</header>

<!-- ëª©ë¡ ë·° -->
<div id="list-view">
  <section class="hero">
    <div class="hero-inner">
      <div class="hero-left">
        <div class="hero-tag">ëŒ€í•œë¯¼êµ­ ì§€ì› ì •ì±… ì†Œì‹ ë¸”ë¡œê·¸</div>
        <h1 class="hero-h1">ì •ì±…ì„ ì•Œë©´<br><em>í˜œíƒì´ ë³´ì…ë‹ˆë‹¤</em></h1>
        <p class="hero-desc">ì§€ì› ì •ì±…ì„ ì•Œê¸° ì‰½ê²Œ ì•Œë ¤ì£¼ëŠ” ì •ë³´ ë¸”ë¡œê·¸ì…ë‹ˆë‹¤.<br>ì²­ë…„, ë³µì§€, ìƒí™œ ì •ì±…ì„ ì‰½ê³  ë¹ ë¥´ê²Œ í™•ì¸í•˜ì„¸ìš”.</p>
      </div>
      <div class="hero-right">
        <!-- ì •ì±… ì¼ëŸ¬ìŠ¤íŠ¸ SVG -->
        <svg class="policy-illust" viewBox="0 0 420 360" fill="none" xmlns="http://www.w3.org/2000/svg">
          <!-- ë°°ê²½ ì¹´ë“œ -->
          <rect x="20" y="30" width="380" height="300" rx="24" fill="white" filter="url(#shadow)"/>
          <defs>
            <filter id="shadow" x="-10%" y="-10%" width="120%" height="120%">
              <feDropShadow dx="0" dy="8" stdDeviation="20" flood-color="#0066ff" flood-opacity="0.10"/>
            </filter>
          </defs>

          <!-- ìƒë‹¨ í—¤ë” ë°” -->
          <rect x="20" y="30" width="380" height="60" rx="24" fill="url(#headerGrad)"/>
          <rect x="20" y="66" width="380" height="24" fill="url(#headerGrad)"/>
          <defs>
            <linearGradient id="headerGrad" x1="0" y1="0" x2="380" y2="0" gradientUnits="userSpaceOnUse">
              <stop offset="0%" stop-color="#0055dd"/>
              <stop offset="100%" stop-color="#0099ff"/>
            </linearGradient>
          </defs>
          <text x="44" y="67" font-family="sans-serif" font-size="14" font-weight="bold" fill="white" letter-spacing="1">ì •ë¶€ ì²­ë…„ ì§€ì› ì •ì±…</text>
          <circle cx="368" cy="60" r="8" fill="rgba(255,255,255,0.3)"/>
          <circle cx="348" cy="60" r="8" fill="rgba(255,255,255,0.2)"/>
          <circle cx="328" cy="60" r="8" fill="rgba(255,255,255,0.15)"/>

          <!-- í†µê³„ ì¹´ë“œ 3ê°œ -->
          <rect x="36" y="108" width="100" height="72" rx="14" fill="#f0f5ff"/>
          <text x="86" y="133" font-family="sans-serif" font-size="10" fill="#0066ff" font-weight="bold" text-anchor="middle">ì›”ì„¸ ì§€ì›</text>
          <text x="86" y="158" font-family="sans-serif" font-size="20" fill="#0066ff" font-weight="bold" text-anchor="middle">20ë§Œì›</text>
          <text x="86" y="172" font-family="sans-serif" font-size="9" fill="#aaa" text-anchor="middle">ì›” ìµœëŒ€</text>

          <rect x="156" y="108" width="100" height="72" rx="14" fill="#f0fff5"/>
          <text x="206" y="133" font-family="sans-serif" font-size="10" fill="#00aa55" font-weight="bold" text-anchor="middle">ì‹ ì²­ ëŒ€ìƒ</text>
          <text x="206" y="158" font-family="sans-serif" font-size="20" fill="#00aa55" font-weight="bold" text-anchor="middle">19~34ì„¸</text>
          <text x="206" y="172" font-family="sans-serif" font-size="9" fill="#aaa" text-anchor="middle">ì²­ë…„ ê¸°ì¤€</text>

          <rect x="276" y="108" width="100" height="72" rx="14" fill="#fff8f0"/>
          <text x="326" y="133" font-family="sans-serif" font-size="10" fill="#ff8800" font-weight="bold" text-anchor="middle">ì§€ì› ê¸°ê°„</text>
          <text x="326" y="158" font-family="sans-serif" font-size="20" fill="#ff8800" font-weight="bold" text-anchor="middle">12ê°œì›”</text>
          <text x="326" y="172" font-family="sans-serif" font-size="9" fill="#aaa" text-anchor="middle">ìµœëŒ€</text>

          <!-- ì²´í¬ë¦¬ìŠ¤íŠ¸ -->
          <rect x="36" y="196" width="340" height="32" rx="10" fill="#f8f9fa"/>
          <circle cx="56" cy="212" r="8" fill="#0066ff"/>
          <text x="53" y="216" font-family="sans-serif" font-size="10" fill="white" font-weight="bold" text-anchor="middle">âœ“</text>
          <text x="72" y="216" font-family="sans-serif" font-size="12" fill="#333">ë¬´ì£¼íƒ ì²­ë…„ ê°€êµ¬ ìš°ì„  ì§€ì›</text>

          <rect x="36" y="234" width="340" height="32" rx="10" fill="#f8f9fa"/>
          <circle cx="56" cy="250" r="8" fill="#0066ff"/>
          <text x="53" y="254" font-family="sans-serif" font-size="10" fill="white" font-weight="bold" text-anchor="middle">âœ“</text>
          <text x="72" y="254" font-family="sans-serif" font-size="12" fill="#333">ì˜¨ë¼ì¸ ê°„í¸ ì‹ ì²­ (ì •ë¶€24, ë³µì§€ë¡œ)</text>

          <rect x="36" y="272" width="340" height="32" rx="10" fill="#f8f9fa"/>
          <circle cx="56" cy="288" r="8" fill="#00aa55"/>
          <text x="53" y="292" font-family="sans-serif" font-size="10" fill="white" font-weight="bold" text-anchor="middle">âœ“</text>
          <text x="72" y="292" font-family="sans-serif" font-size="12" fill="#333">ë§¤ì›” ê³„ì¢Œ ì§ì ‘ ì§€ê¸‰</text>

          <!-- ìš°ì¸¡ ìƒë‹¨ ë±ƒì§€ -->
          <rect x="290" y="18" width="80" height="28" rx="14" fill="#0066ff"/>
          <text x="330" y="36" font-family="sans-serif" font-size="11" fill="white" font-weight="bold" text-anchor="middle">2026 NEW</text>
        </svg>
      </div>
    </div>
  </section>

  <div class="filter-wrap" id="filter-bar-wrap">
    <div class="filter-left" id="filter-bar">
      <button class="fbtn on" onclick="filterPosts('all',this)">ì „ì²´</button>
    </div>
  </div>
  <div class="filter-divider"></div>

  <div class="grid-wrap" id="posts-grid">
    <div class="msg">ê¸€ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</div>
  </div>

  <footer>
    <b>Korean Blog</b> â€” Powered by n8n Ã— GitHub Pages
    <span id="footer-date"></span>
  </footer>
</div>

<!-- í¬ìŠ¤íŠ¸ ìƒì„¸ ë·° -->
<div class="post-page" id="post-page">
  <div class="post-hdr">
    <button class="post-back" onclick="showList()">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M19 12H5M12 5l-7 7 7 7"/></svg>
      ëª©ë¡ìœ¼ë¡œ
    </button>
    <span class="hdr-logo" onclick="showList()">KOREAN<b>BLOG</b></span>
    <div class="post-hdr-actions">
      <button class="btn-edit-post" onclick="openEditFromPost()">ìˆ˜ì •</button>
      <button class="btn-del-post" onclick="openDelFromPost()">ì‚­ì œ</button>
    </div>
  </div>
  <div class="post-wrap">
    <div class="post-meta">
      <span class="post-cat" id="p-cat"></span>
      <span class="post-date-txt" id="p-date"></span>
    </div>
    <h1 class="post-title" id="p-title"></h1>
    <div class="post-tags" id="p-tags"></div>
    <div class="post-body" id="p-body"></div>
    <div class="post-footer">
      <button class="back-btn" onclick="showList()">â† ëª©ë¡ìœ¼ë¡œ ëŒì•„ê°€ê¸°</button>
    </div>
  </div>
</div>

<!-- ìˆ˜ì • ëª¨ë‹¬ -->
<div class="edit-overlay" id="edit-overlay" onclick="overlayEditClick(event)">
  <div class="edit-modal">
    <div class="edit-modal-hdr">
      <h3>ê¸€ ìˆ˜ì •</h3>
      <button class="edit-close" onclick="closeEdit()">âœ•</button>
    </div>
    <div class="edit-body">
      <div class="edit-field">
        <label>ì œëª©</label>
        <input type="text" id="edit-title" placeholder="ì œëª©ì„ ì…ë ¥í•˜ì„¸ìš”"/>
      </div>
      <div class="edit-field">
        <label>ì¹´í…Œê³ ë¦¬</label>
        <input type="text" id="edit-category" placeholder="ì˜ˆ: ì •ë³´, ì²­ë…„, ë³µì§€"/>
      </div>
      <div class="edit-field">
        <label>íƒœê·¸ (ì‰¼í‘œë¡œ êµ¬ë¶„)</label>
        <input type="text" id="edit-tags" placeholder="ì˜ˆ: ì •ë³´, ì²­ë…„, ì›”ì„¸"/>
      </div>
      <div class="edit-field">
        <label>ìš”ì•½</label>
        <input type="text" id="edit-excerpt" placeholder="ê¸€ ìš”ì•½ì„ ì…ë ¥í•˜ì„¸ìš”"/>
      </div>
      <div class="edit-field">
        <label>ë³¸ë¬¸ (HTML)</label>
        <textarea id="edit-content" placeholder="ë³¸ë¬¸ ë‚´ìš© (HTML ê°€ëŠ¥)"></textarea>
      </div>
    </div>
    <div class="edit-foot">
      <button class="btn-cancel" onclick="closeEdit()">ì·¨ì†Œ</button>
      <button class="btn-save" onclick="saveEdit()">ì €ì¥</button>
    </div>
  </div>
</div>

<!-- ì‚­ì œ í™•ì¸ ëª¨ë‹¬ -->
<div class="del-overlay" id="del-overlay" onclick="overlayDelClick(event)">
  <div class="del-modal">
    <div class="del-icon">ğŸ—‘ï¸</div>
    <h3>ê¸€ì„ ì‚­ì œí• ê¹Œìš”?</h3>
    <p>ì‚­ì œëœ ê¸€ì€ ë³µêµ¬í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.<br>ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?</p>
    <div class="del-btns">
      <button class="btn-del-cancel" onclick="closeDel()">ì·¨ì†Œ</button>
      <button class="btn-del-confirm" onclick="confirmDelete()">ì‚­ì œ</button>
    </div>
  </div>
</div>

<!-- í† ìŠ¤íŠ¸ -->
<div class="toast" id="toast"></div>

<script>
var posts = [];
var currentPostId = null;

function loadPosts(){
  fetch('posts.json?v='+Date.now())
    .then(function(r){if(!r.ok)throw new Error();return r.json()})
    .then(function(data){posts=data;init()})
    .catch(function(){
      document.getElementById('posts-grid').innerHTML='<div class="msg" style="color:#ff4444">posts.jsonì„ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤</div>';
    });
}

function init(){
  buildFilters();
  render(posts);
  document.getElementById('post-count').textContent=posts.length+'ê°œì˜ ê¸€';
  var rev=[].concat(posts).reverse();
  if(rev[0]) document.getElementById('footer-date').textContent='Last: '+rev[0].date;
}

function buildFilters(){
  var cats=[],bar=document.getElementById('filter-bar');
  // ê¸°ì¡´ ë²„íŠ¼ ì¤‘ 'ì „ì²´' ë¹¼ê³  ì œê±°
  while(bar.children.length>1) bar.removeChild(bar.lastChild);
  posts.forEach(function(p){if(p.category&&cats.indexOf(p.category)<0)cats.push(p.category)});
  cats.forEach(function(c){
    var b=document.createElement('button');
    b.className='fbtn';b.textContent=c;
    b.onclick=function(){filterPosts(c,b)};
    bar.appendChild(b);
  });
}

function filterPosts(f,btn){
  document.querySelectorAll('.fbtn').forEach(function(b){b.className='fbtn'});
  btn.className='fbtn on';
  render(f==='all'?posts:posts.filter(function(p){return p.category===f}));
}

function render(list){
  var g=document.getElementById('posts-grid');
  g.innerHTML='';
  if(!list.length){g.innerHTML='<div class="msg">ê¸€ì´ ì—†ìŠµë‹ˆë‹¤</div>';return}
  [].concat(list).reverse().forEach(function(p,i){
    var d=document.createElement('div');
    d.className='pcard'+(i===0?' big':'');
    d.style.animationDelay=(0.05+i*0.06)+'s';
    var tags=(p.tags||[]).map(function(t){return'<span class="ptag">#'+t+'</span>'}).join('');
    d.innerHTML='<div class="pc-top"><span class="pc-cat">'+(p.category||'ê¸°íƒ€')+'</span><span class="pc-date">'+fmtDate(p.date)+'</span></div>'
      +'<div class="pc-title">'+esc(p.title)+'</div>'
      +'<div class="pc-excerpt">'+(p.excerpt||'')+'</div>'
      +'<div class="pc-tags">'+tags+'</div>'
      +'<div class="pc-bottom">'
      +'<div class="pc-read">ì½ê¸° â†’</div>'
      +'<div class="pc-actions">'
      +'<button class="pc-edit" onclick="openEdit(event,\''+p.id+'\')">ìˆ˜ì •</button>'
      +'<button class="pc-del" onclick="openDel(event,\''+p.id+'\')">ì‚­ì œ</button>'
      +'</div></div>';
    d.querySelector('.pc-read').onclick=function(e){e.stopPropagation();openPost(p)};
    d.querySelector('.pc-title').onclick=function(){openPost(p)};
    d.querySelector('.pc-excerpt').onclick=function(){openPost(p)};
    g.appendChild(d);
  });
}

function esc(s){return(s||'').replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;')}

function fmtDate(d){
  if(!d)return'';
  var dt=new Date(d);
  return dt.getFullYear()+'.'+(dt.getMonth()+1+'').padStart(2,'0')+'.'+(''+dt.getDate()).padStart(2,'0');
}

function openPost(p){
  currentPostId=p.id;
  document.getElementById('p-cat').textContent=p.category||'';
  document.getElementById('p-date').textContent=fmtDate(p.date);
  document.getElementById('p-title').textContent=p.title;
  document.getElementById('p-body').innerHTML=p.content||'';
  document.getElementById('p-tags').innerHTML=(p.tags||[]).map(function(t){return'<span class="ptag">#'+t+'</span>'}).join('');
  document.getElementById('list-view').style.display='none';
  var pp=document.getElementById('post-page');
  pp.className='post-page on';
  window.scrollTo(0,0);
}

function showList(){
  document.getElementById('post-page').className='post-page';
  document.getElementById('list-view').style.display='';
  currentPostId=null;
  window.scrollTo(0,0);
}

/* â”€â”€ ìˆ˜ì • â”€â”€ */
function openEdit(e,id){
  e && e.stopPropagation();
  var p=posts.find(function(x){return x.id===id});
  if(!p)return;
  currentPostId=id;
  document.getElementById('edit-title').value=p.title||'';
  document.getElementById('edit-category').value=p.category||'';
  document.getElementById('edit-tags').value=(p.tags||[]).join(', ');
  document.getElementById('edit-excerpt').value=p.excerpt||'';
  document.getElementById('edit-content').value=p.content||'';
  document.getElementById('edit-overlay').className='edit-overlay on';
}

function openEditFromPost(){
  openEdit(null, currentPostId);
}

function closeEdit(){
  document.getElementById('edit-overlay').className='edit-overlay';
}

function overlayEditClick(e){if(e.target===e.currentTarget)closeEdit();}

function saveEdit(){
  var p=posts.find(function(x){return x.id===currentPostId});
  if(!p)return;
  p.title=document.getElementById('edit-title').value;
  p.category=document.getElementById('edit-category').value;
  p.tags=document.getElementById('edit-tags').value.split(',').map(function(t){return t.trim()}).filter(Boolean);
  p.excerpt=document.getElementById('edit-excerpt').value;
  p.content=document.getElementById('edit-content').value;
  closeEdit();
  // í¬ìŠ¤íŠ¸ í˜ì´ì§€ì—ì„œ ìˆ˜ì •í•œ ê²½ìš° í™”ë©´ ê°±ì‹ 
  if(document.getElementById('post-page').className.indexOf('on')>=0){
    openPost(p);
  } else {
    render(posts);
    buildFilters();
  }
  showToast('âœ… ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤ (ë¡œì»¬)');
}

/* â”€â”€ ì‚­ì œ â”€â”€ */
function openDel(e,id){
  e && e.stopPropagation();
  currentPostId=id;
  document.getElementById('del-overlay').className='del-overlay on';
}

function openDelFromPost(){
  document.getElementById('del-overlay').className='del-overlay on';
}

function closeDel(){
  document.getElementById('del-overlay').className='del-overlay';
}

function overlayDelClick(e){if(e.target===e.currentTarget)closeDel();}

function confirmDelete(){
  posts=posts.filter(function(p){return p.id!==currentPostId});
  closeDel();
  if(document.getElementById('post-page').className.indexOf('on')>=0){
    showList();
  }
  render(posts);
  buildFilters();
  document.getElementById('post-count').textContent=posts.length+'ê°œì˜ ê¸€';
  currentPostId=null;
  showToast('ğŸ—‘ï¸ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤ (ë¡œì»¬)');
}

/* â”€â”€ í† ìŠ¤íŠ¸ â”€â”€ */
function showToast(msg){
  var t=document.getElementById('toast');
  t.textContent=msg;
  t.className='toast show';
  setTimeout(function(){t.className='toast'},2500);
}

loadPosts();
</script>
</body>
</html>
